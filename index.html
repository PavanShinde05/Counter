<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Radha Counter — जप</title>

  <!-- Google Fonts: handwritten for heading, elegant ligature font for button -->
  <link href="https://fonts.googleapis.com/css2?family=Satisfy&family=Cormorant+Garamond:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --btn-gradient: linear-gradient(135deg,#ffb347,#ffffff);
      --btn-radius: 32px;
      --glass-bg: rgba(255,255,255,0.08);
      --accent: #ff7a18;
      --counter-size: 3.2rem;
      --heading-size: 1.05rem;
    }

    html,body{height:100%;margin:0;font-family:system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;}

    body{
      background-image: url('https://w.wallhaven.cc/full/gw/wallhaven-gwjq3d.jpg');
      background-size: cover;
      background-position: center;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      gap:1.2rem;
      padding:2rem;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow:hidden;
    }

    /* Heading in handwritten font */
    header h1{
      font-family: 'Satisfy', cursive;
      font-size: var(--heading-size);
      color: rgba(255,255,255,0.95);
      text-align:center;
      text-shadow: 0 2px 14px rgba(0,0,0,0.45);
      margin:0 0 6vh 0;
      max-width:1000px;
      line-height:1.25;
    }

    /* Counter display above button */
    .counter-display{
      font-weight:700;
      font-size:var(--counter-size);
      color: white;
      text-shadow: 0 4px 18px rgba(0,0,0,0.6);
      letter-spacing:1px;
      text-align:center;
      min-width:260px;
      padding:0.2rem 0.6rem;
      border-radius:12px;
      background: linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.12));
    }

    /* Center button */
    .center-wrap{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:12px;}

    button.radha-btn{
      -webkit-appearance:none;border:0;cursor:pointer;
      padding:1.2rem 2.6rem;
      border-radius:var(--btn-radius);
      background: var(--btn-gradient);
      background-image: linear-gradient(135deg, #ffb347 0%, #ffd1a9 40%, #ffffff 100%);
      box-shadow: 0 8px 30px rgba(0,0,0,0.45), inset 0 -4px 12px rgba(255,255,255,0.15);
      font-family: 'Cormorant Garamond', serif;
      font-weight:600;
      font-size:1.6rem;
      letter-spacing:0.06em;
      text-transform:none;
      color:#5a2a00;
      transition:transform .12s ease, box-shadow .12s ease;
      text-rendering:optimizeLegibility;
      font-variant-ligatures: common-ligatures discretionary-ligatures;
    }
    button.radha-btn:active{transform:scale(.98);}
    button.radha-btn:focus{outline:3px solid rgba(255,160,80,0.16);}

    /* Floating Radha pops */
    .pop{
      position:fixed;
      pointer-events:none;
      font-family: 'Cormorant Garamond', serif;
      font-weight:700;
      font-size:1.2rem;
      transform:translate(-50%,-50%) scale(0.9);
      white-space:nowrap;
      animation: floatUp 1400ms forwards ease-out;
      text-shadow: 0 6px 16px rgba(0,0,0,0.45);
      -webkit-background-clip: text;
      background-clip: text;
      color:transparent;
    }

    @keyframes floatUp{
      0%{opacity:0; transform:translate(-50%,-50%) translateY(20px) scale(.9);}
      20%{opacity:1;}
      100%{opacity:0; transform:translate(-50%,-50%) translateY(-120px) scale(1.12);}
    }

    /* Bottom save area */
    .bottom-bar{
      position:fixed;left:12px;right:12px;bottom:12px;
      display:flex;align-items:flex-end;gap:12px;justify-content:space-between;z-index:2000;
    }

    .save-btn{
      background: linear-gradient(135deg,#ffb347,#ff7a18);
      border:0;padding:0.8rem 1rem;border-radius:14px;color:white;font-weight:700; cursor:pointer; box-shadow:0 8px 26px rgba(0,0,0,0.45);
      font-family: 'Cormorant Garamond', serif; font-variant-ligatures: common-ligatures;
    }

    .saved-list{
      max-height:120px;overflow:auto;background:rgba(0,0,0,0.35);padding:10px;border-radius:12px;color:white;font-size:0.9rem;
      backdrop-filter: blur(6px);
    }

    .saved-list ol{margin:0;padding-left:1.05rem;}

    /* Responsive tweaks */
    @media (max-width:520px){
      .counter-display{font-size:2rem}
      button.radha-btn{font-size:1.2rem;padding:1rem 1.6rem}
    }

  </style>
</head>
<body>
  <header>
    <h1>कृष्णाय वासुदेवाय हरये परमात्मने । प्रणत: क्लेशनाशाय गोविंदाय नमो नम: ।।</h1>
  </header>

  <main class="center-wrap" role="main">
    <div class="counter-display" id="counterDisplay">0 / 108</div>

    <button id="radhaBtn" class="radha-btn" aria-label="Radha">Radha</button>
  </main>

  <div class="bottom-bar" aria-hidden="false">
    <button id="saveBtn" class="save-btn">When your love for Shri Radha Krishna is transformed into pure devotion, it finds its true meaning</button>
    <div class="saved-list" id="savedList">
      <strong style="display:block;margin-bottom:6px">Namjap Completed</strong>
      <ol id="savedOl"></ol>
    </div>
  </div>

  <script>
    (function(){
      const btn = document.getElementById('radhaBtn');
      const counterDisplay = document.getElementById('counterDisplay');
      const savedOl = document.getElementById('savedOl');
      const saveBtn = document.getElementById('saveBtn');

      let count = 0;
      let savedCount = 0;

      // helper: random int
      function rInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}

      // create a gradient string for text each time
      function makeGradient(){
        // pick two random hues that look pleasing
        const h1 = rInt(0,360);
        const h2 = (h1 + rInt(30,140)) % 360;
        const s1 = rInt(65,95);
        const s2 = rInt(60,95);
        const l1 = rInt(45,65);
        const l2 = rInt(40,70);
        return `linear-gradient(45deg, hsl(${h1} ${s1}% ${l1}%) 0%, hsl(${h2} ${s2}% ${l2}%) 100%)`;
      }

      // show floating "Radha" at random position with gradient text
      function popRadha(){
        const pop = document.createElement('span');
        pop.className = 'pop';
        pop.textContent = 'Radha';

        // random position inside viewport margin
        const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
        const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
        const x = rInt(8, vw - 8);
        const y = rInt(100, vh - 140);
        pop.style.left = x + 'px';
        pop.style.top = y + 'px';

        // new gradient each time
        const grad = makeGradient();
        pop.style.backgroundImage = grad;
        pop.style.webkitBackgroundClip = 'text';
        pop.style.backgroundClip = 'text';
        pop.style.color = 'transparent';

        document.body.appendChild(pop);

        // remove after animation
        setTimeout(()=>{
          pop.remove();
        }, 1600);
      }

      function updateDisplay(){
        counterDisplay.textContent = `${count} / 108`;
      }

      function registerTap(){
        count += 1;
        popRadha();
        updateDisplay();

        if(count >= 108){
          // save automatically to list (increment savedCount) and reset
          savedCount += 1;
          const li = document.createElement('li');
          li.textContent = `Namjap ${savedCount}`;
          savedOl.prepend(li);

          // small flash on save button
          saveBtn.animate([
            {transform:'scale(1)', boxShadow:'0 8px 26px rgba(0,0,0,0.45)'},
            {transform:'scale(1.03)', boxShadow:'0 12px 38px rgba(0,0,0,0.5)'},
            {transform:'scale(1)', boxShadow:'0 8px 26px rgba(0,0,0,0.45)'}
          ],{duration:420, easing:'ease-out'});

          // reset count to 0 and update display
          count = 0;
          updateDisplay();
        }
      }

      // Attach both click and touch handlers to be responsive on mobile
      btn.addEventListener('click', registerTap);
      btn.addEventListener('touchstart', function(e){ e.preventDefault(); registerTap(); }, {passive:false});

      // Manual save button: if user clicks it when count is 108, it will save (also support manual saves)
      saveBtn.addEventListener('click', function(){
        if(count === 108){
          // handled in registerTap, but allow manual save
          registerTap();
        } else if(count === 0){
          // nothing to save
          saveBtn.animate([{transform:'translateY(0)'},{transform:'translateY(-6px)'},{transform:'translateY(0)'}],{duration:350});
        } else {
          // save partial round as current count and reset
          savedCount += 1;
          const li = document.createElement('li');
          li.textContent = `Round ${savedCount}: ${count}`;
          savedOl.prepend(li);
          count = 0; updateDisplay();
        }
      });

      // allow keyboard space/enter to increment when button focused
      btn.addEventListener('keydown', function(e){ if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); registerTap(); } });

      // initial display
      updateDisplay();

      // accessibility: focus button on load for quick taps
      window.setTimeout(()=>{btn.focus();},600);

    })();
  </script>
</body>
</html>

